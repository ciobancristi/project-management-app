<style>
    .confirm-button {
        margin: 10px;
    }
    
    .mini-alert {
        padding: 5px;
        border: 1px solid transparent;
        border-radius: 2px;
    }
</style>

<div class="jumbotron">
    <div class="container">
        <div class="col-xs-8 col-xs-offset-2 ">
            <form class="form-horizontal" *ngIf="project" #projectForm="ngForm" novalidate>
                <div class="form-group">
                    <h2>{{isNewProject() ? "Add new project" : project.name + " details"}}</h2>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Name:</label>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" name="name" [(ngModel)]="project.name" required #name="ngModel">
                        <div [hidden]="name.valid " class="mini-alert alert-danger">
                            Name is required
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Status:</label>
                    <div class="col-xs-10">
                        <select [(ngModel)]="project.status" name="status" class="form-control">
                            <option *ngFor="let status of statuses" [value]="status">{{status}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Description:</label>
                    <div class="col-xs-10">
                        <textarea class="form-control" name="description" [(ngModel)]="project.description"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Estimation:</label>
                    <div class="col-xs-10">
                        <input type="number" name="estimation" class="form-control" [(ngModel)]="project.estimation" min="0">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Revenue:</label>
                    <div class="col-xs-5">
                        <input type="number" name="revenue" class="form-control" [(ngModel)]="project.revenue" min="0">
                    </div>
                    <div class="col-xs-5">
                        <select [(ngModel)]="project.currency" name="currency" class="form-control">
                            <option *ngFor="let currency of currencies" [value]="currency">{{currency}}</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="pull-left">
                            <button type="button" (click)="goToProjectList()" class="btn btn-default confirm-button" formnovalidate>Cancel</button>
                        </div>
                        <div class="pull-left">
                            <button type="submit" *ngIf="isNewProject()" [disabled]="!projectForm.form.valid" class="btn btn-success confirm-button"
                                (click)='addProject()'>Add new project</button>
                            <button type="submit" *ngIf="!isNewProject()" [disabled]="!projectForm.form.valid" class="btn btn-success confirm-button"
                                (click)='updateProject()'>Save</button>
                        </div>
                        <div class="pull-right">
                            <button type="submit" (click)="deleteProject()" class="btn btn-danger confirm-button">Delete</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>