<style>
    .confirm-button {
        margin: 10px;
    }
    
    .ng-valid[required] {
        border-left: 5px solid #42A948;
        /* green */
    }
    
    .ng-invalid {
        border-left: 5px solid #a94442;
        /* red */
    }
    
    .mini-alert {
        padding: 5px;
        border: 1px solid transparent;
        border-radius: 2px;
    }
</style>

<div class="jumbotron" *ngIf="project">
    <div class="container">
        <div class="col-xs-8 col-xs-offset-2 ">
            <form class="form-horizontal">
                <div class="form-group">
                    <h2>{{isNewProject() ? "Add new project" : project.name + " details"}}</h2>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Name:</label>
                    <div class="col-xs-10">
                        <input type="text" class="form-control" name="name" [(ngModel)]="project.name" required #name="ngModel">
                        <div [hidden]="name.valid " class="mini-alert alert-danger">
                            Name is required
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Status:</label>
                    <div class="col-xs-10">
                        <select [(ngModel)]="project.status" name="status" class="form-control">
                            <option *ngFor="let status of statuses" [ngValue]="status">{{status.name}}</option>
                        </select>
                        {{project.status | json}}
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Description:</label>
                    <div class="col-xs-10">
                        <textarea class="form-control" name="description" [(ngModel)]="project.description"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Estimation:</label>
                    <div class="col-xs-10">
                        <input type="number" name="description" class="form-control" [(ngModel)]="project.estimation" min="0">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">Revenue:</label>
                    <div class="col-xs-5">
                        <input type="number" name="revenue" class="form-control" [(ngModel)]="project.revenue" min="0">
                    </div>
                    <div class="col-xs-5">
                        <select [(ngModel)]="project.monetaryUnit" name="currency" class="form-control">
                            <option *ngFor="let currency of currencies" [ngValue]="currency">{{currency.name}}</option>
                        </select>
                        {{project.monetaryUnit | json}}
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-offset-2 col-xs-10">
                        <div class="checkbox">
                            <label class="control-label">
                                <input #{{project.id}} type="checkbox" name="finished" [(ngModel)]="project.finished">Finished
                             </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="pull-left">
                            <button (click)="goToProjects()" class="btn btn-default confirm-button">Cancel</button>
                        </div>
                        <div class="pull-left">
                            <button *ngIf="isNewProject()" class="btn btn-success confirm-button" (click) = 'addProject()'>Add new project</button>
                            <button *ngIf="!isNewProject()" class="btn btn-success confirm-button" (click) = 'editProject()'>Save</button>
                        </div>
                        <div class="pull-right">
                            <button class="btn btn-danger confirm-button">Delete</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>